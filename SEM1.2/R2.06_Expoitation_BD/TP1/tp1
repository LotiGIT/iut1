drop schema if exists tp1 cascade;
create schema tp1;

set schema 'tp1';

create table dept(
  nodept integer primary key,
  nomdept varchar(15) not null,
  lieu varchar(20)
  
);

create table emp(
  matr integer primary key ,
  nomE varchar(30) not null,
  sal numeric(10,2)not null,
  poste varchar(20)not null,
  dateEmp date not null,
  comm numeric (10,2) not null,
  nomdept integer not null references dept
);

create table dirige(
  sup integer not nul references emp,
  sub integer primary key references emp
);

insert into tp1.dept(nodept, nomdept,lieu)
values 
(10, 'FINANCES', 'PARIS'),
(20, 'RECHERCHES', 'GRENOBLE'),
(30, 'VENTES', 'LYON'),
(40, 'FABRICATION', 'ROUEN');


WbImport -file=./employe.csv
         -table=emp
         -filecolumns=matr,nomE,sal,poste, dateEmp, comm, nomdept
         -dateformat="yyyy-MM-dd";
         
insert into dirige(sub, sup)
values
(7839, 7566),
(7698, 7839),


